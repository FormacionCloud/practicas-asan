* Almacenamiento de parámetros y secretos compartidos
#+begin_quote
[!IMPORTANT]
Utilizaremos la *Landing Zone* para realizar esta práctica.
#+end_quote

Los objetivos de esta práctica son los siguientes:
- Utilizar los servicios de almacenamiento de parámetros (Systems Manager Parameter Store)
- Utilizar los servicios de almacenamiento de secretos (Secrets Manager)
- Acceder a los secretos y parámetros compartidos desde el código de la aplicación mediante el SDK
- Rotar secretos de bases de datos automáticamente

* Crear un secreto en Secrets Manager
Crea un secreto en Secrets Manager con las siguientes características:
- Secret Type- ~Other type of secret~
- Key/value pairs - Crea una única pareja de clave/valor:
  - Key - ~nombrecompleto~
  - Value - Tu nombre y apellidos completo
- Encryption Key - Deja el valor por defecto
  [[./imagenes/02-secret-1.png]]
- Secret name - ~/practica-secretos/TUS_INICIALES/secret1~. Asegúrate de cambiar ~TUS_INICIALES~ por tus iniciales reales.
  [[./imagenes/02-secret-2.png]]
- No actives la rotación automática
  [[./imagenes/02-secret-3.png]]
- En la pantalla de resumen, puedes ver el código de ejemplo para acceder al secreto desde diferentes lenguajes de programación. Podrás consultar de nuevo el código al acceder a la pestaña de detalles del secreto una vez creado
  [[./imagenes/02-secret-4.png]]

* Crear un parámetro en Systems Manager Parameter Store
Crea una parámetro en Systems Manager Parameter Store con las siguientes características:
- Nombre - ~/practica-secretos/TUS_INICIALES/param1~
  Asegúrate de cambiar ~TUS_INICIALES~ por tus iniciales reales.
- Tier - ~Standard~
- Type - ~String~
- Data type - ~text~
- Value - Tu nombre y apellidos completo

[[./imagenes/01-parametro.png]]

* Acceder a secretos y parámetros desde la CLI
1. Muestra el parámetro a través de la CLI mediante el comando siguiente:
   #+begin_src bash
   aws ssm get-parameter --name /practica-secretos/TUS_INICIALES/param1
   #+end_src
2. Muestra el secreto a través de la CLI mediante el comando siguiente:
   #+begin_src bash
     aws secretsmanager get-secret-value --secret-id /practica-secretos/TUS_INICIALES/secret1
   #+end_src

* Acceder a secretos y parámetros desde la aplicación (SDK)

* Aplicación real en Beanstalk
** Variables de entorno
** Secretos en variables de entorno
En Beanstalk, se pueden guardar secretos de secrets manager en env variables, pero solo se sincronizan al actualizar el entorno o reiniciar instancias.

1. Cargar secretos a env variables. Rotar secreto. Ver que no cambia. Refrescar entorno y ver que cambia. Todo ello, simplemente mostrando en PHP.
2. Cargar secretos desde fichero ~.ebextensions~.
** Secretos desde el SDK


* Entrega
Documenta la realización de la práctica explicando los pasos seguidos. Incluye las *capturas de pantalla* necesarias. Recuerda mostrar tus datos personales (nombre y apellidos, iniciales) en aquellos apartados donde se indique.

* Limpieza
Al finalizar, *elimina* los recursos creados en la práctica.
